<template>
    
    <template if:true={showLoadingSpinner}>
        <div style="z-index: 10000 !important;">
            <lightning-spinner alternative-text="Uploading......" size="medium" style="z-index: 10000 !important;"></lightning-spinner>
        </div>
    </template>

    <div class="cardstyle">

        <div class="cardContainer">

            <div>
                <div class="header">
                    Merge Contacts via CSV File
                </div>

                <div class="infoPart">

                    <div class="infoBox">
                        <div class="icon">
                            <lightning-icon icon-name="utility:info_alt" alternative-text="Asset" title="Asset" class="icon_small"></lightning-icon>
                        </div>
                        <div class="cutoutCircle"></div>

                        <div class="infoContainer">
                            {fileName}
            
                            <div style="width: auto;">
                                <template if:true={data}>

                                    <div class="Line"></div>
                                    <div>
                                        <lightning-formatted-text value={finalMessage}></lightning-formatted-text>
                                    </div>
                                </template>

                                <template if:true={showEmailBox}>
                                    <div class="Line"></div>
                                    <div style="width: 90%">
                                        <lightning-input type="text" label="Enter your e-mail address" onchange={handleEmailChange} field-name="email" value={emailAddress}></lightning-input>
                                    </div>
                                </template>
                            </div>
                        </div>

                    </div>

                </div>

            </div>

            <div style="margin-left:4%; margin:0px auto; width: 300px;">
                <div>
                    <lightning-input label="" name="file uploader" onchange={handleFilesChange} type="file" multiple></lightning-input>
                </div>
                <br/>
                <div>
                    <lightning-button class="slds-m-top--medium" label={UploadFile} onclick={handleSave} variant="brand" disabled={isTrue}></lightning-button>
                </div>
                <br />
                <div class="slds-checkbox">
                    <lightning-input label="Send email when finished" onchange={handleSendMailChange} type="checkbox" checked={sendEmail} >
                    </lightning-input>
                </div>
            </div>

        </div>

    </div>

</template>